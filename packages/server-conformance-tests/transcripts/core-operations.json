{
  "meta": {
    "name": "Core Operations",
    "description": "Golden transcripts for fundamental Durable Streams operations",
    "protocolVersion": "1.0"
  },
  "transcripts": [
    {
      "id": "create-stream-text-plain",
      "description": "Create a new text/plain stream",
      "category": "create",
      "tags": ["core", "create", "text"],
      "request": {
        "method": "PUT",
        "path": "/v1/streams/golden-create-text",
        "headers": [["content-type", "text/plain"]],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 201,
        "headers": [["content-type", "text/plain"]],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding",
        "location"
      ],
      "presenceOnlyHeaders": ["stream-next-offset"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "create-stream-json",
      "description": "Create a new application/json stream",
      "category": "create",
      "tags": ["core", "create", "json"],
      "request": {
        "method": "PUT",
        "path": "/v1/streams/golden-create-json",
        "headers": [["content-type", "application/json"]],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 201,
        "headers": [["content-type", "application/json"]],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding",
        "location"
      ],
      "presenceOnlyHeaders": ["stream-next-offset"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "head-stream-metadata",
      "description": "HEAD request for stream metadata",
      "category": "head",
      "tags": ["core", "head", "metadata"],
      "request": {
        "method": "HEAD",
        "path": "/v1/streams/golden-create-text",
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 200,
        "headers": [["content-type", "text/plain"]],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "content-length",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": ["stream-next-offset"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "append-text-data",
      "description": "Append text data to a stream (returns 204 No Content)",
      "category": "append",
      "tags": ["core", "append", "text"],
      "request": {
        "method": "POST",
        "path": "/v1/streams/golden-create-text",
        "headers": [["content-type", "text/plain"]],
        "body": "Hello, World!",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 204,
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": ["stream-next-offset"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "append-json-array",
      "description": "Append JSON array (flattens to individual messages)",
      "category": "append",
      "tags": ["core", "append", "json", "batching"],
      "request": {
        "method": "POST",
        "path": "/v1/streams/golden-create-json",
        "headers": [["content-type", "application/json"]],
        "body": "[{\"msg\":1},{\"msg\":2},{\"msg\":3}]",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 204,
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": ["stream-next-offset"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "read-text-stream",
      "description": "Read text data from stream",
      "category": "read",
      "tags": ["core", "read", "text"],
      "request": {
        "method": "GET",
        "path": "/v1/streams/golden-create-text?offset=-1",
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 200,
        "headers": [
          ["content-type", "text/plain"],
          ["stream-up-to-date", "true"]
        ],
        "body": "Hello, World!",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": ["stream-next-offset", "stream-cursor", "etag"],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "read-json-stream",
      "description": "Read JSON array from stream",
      "category": "read",
      "tags": ["core", "read", "json"],
      "request": {
        "method": "GET",
        "path": "/v1/streams/golden-create-json?offset=-1",
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 200,
        "headers": [
          ["content-type", "application/json"],
          ["stream-up-to-date", "true"]
        ],
        "body": "[{\"msg\":1},{\"msg\":2},{\"msg\":3}]",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": ["stream-next-offset", "stream-cursor", "etag"],
      "semanticBodyComparison": true,
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": "delete-stream",
      "description": "Delete a stream",
      "category": "delete",
      "tags": ["core", "delete"],
      "request": {
        "method": "DELETE",
        "path": "/v1/streams/golden-create-text",
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "response": {
        "status": 204,
        "headers": [],
        "body": "",
        "bodyEncoding": "utf8"
      },
      "ignoreHeaders": [
        "date",
        "server",
        "access-control-allow-headers",
        "access-control-allow-methods",
        "access-control-allow-origin",
        "access-control-expose-headers",
        "connection",
        "keep-alive",
        "transfer-encoding"
      ],
      "presenceOnlyHeaders": [],
      "version": 1,
      "capturedAt": "2025-01-01T00:00:00.000Z"
    }
  ]
}
